"use strict";(self.webpackChunkoxperta_simulator=self.webpackChunkoxperta_simulator||[]).push([[26],{4026:(Ye,G,h)=>{h.r(G),h.d(G,{MortgageSimulatorModule:()=>Be});var _=h(9808),x=h(1470),U=h(3104),H=h(655),p=h(2382),M=h(7579),D=h(8675),k=h(4004),v=h(2722),$=h(6142),Y=h(3208);const ee=["Alava","Albacete","Alicante","Almer\xeda","Asturias","Avila","Badajoz","Barcelona","Burgos","C\xe1ceres","C\xe1diz","Cantabria","Castell\xf3n","Ciudad Real","C\xf3rdoba","La Coru\xf1a","Cuenca","Gerona","Granada","Guadalajara","Guip\xfazcoa","Huelva","Huesca","Islas Baleares","Ja\xe9n","Le\xf3n","L\xe9rida","Lugo","Madrid","M\xe1laga","Murcia","Navarra","Orense","Palencia","Las Palmas","Pontevedra","La Rioja","Salamanca","Segovia","Sevilla","Soria","Tarragona","Santa Cruz de Tenerife","Teruel","Toledo","Valencia","Valladolid","Vizcaya","Zamora","Zaragoza"];var e=h(4893),b=h(7322),N=h(7531),O=h(9776),u=h(508),q=h(8962),J=h(2378),w=h(3191);class te{constructor(a=!1,t,i=!0){this._multiple=a,this._emitChanges=i,this._selection=new Set,this._deselectedToEmit=[],this._selectedToEmit=[],this.changed=new M.x,t&&t.length&&(a?t.forEach(s=>this._markSelected(s)):this._markSelected(t[0]),this._selectedToEmit.length=0)}get selected(){return this._selected||(this._selected=Array.from(this._selection.values())),this._selected}select(...a){this._verifyValueAssignment(a),a.forEach(t=>this._markSelected(t)),this._emitChangeEvent()}deselect(...a){this._verifyValueAssignment(a),a.forEach(t=>this._unmarkSelected(t)),this._emitChangeEvent()}toggle(a){this.isSelected(a)?this.deselect(a):this.select(a)}clear(){this._unmarkAll(),this._emitChangeEvent()}isSelected(a){return this._selection.has(a)}isEmpty(){return 0===this._selection.size}hasValue(){return!this.isEmpty()}sort(a){this._multiple&&this.selected&&this._selected.sort(a)}isMultipleSelection(){return this._multiple}_emitChangeEvent(){this._selected=null,(this._selectedToEmit.length||this._deselectedToEmit.length)&&(this.changed.next({source:this,added:this._selectedToEmit,removed:this._deselectedToEmit}),this._deselectedToEmit=[],this._selectedToEmit=[])}_markSelected(a){this.isSelected(a)||(this._multiple||this._unmarkAll(),this._selection.add(a),this._emitChanges&&this._selectedToEmit.push(a))}_unmarkSelected(a){this.isSelected(a)&&(this._selection.delete(a),this._emitChanges&&this._deselectedToEmit.push(a))}_unmarkAll(){this.isEmpty()||this._selection.forEach(a=>this._unmarkSelected(a))}_verifyValueAssignment(a){}}var g=h(1159),ie=h(9770),Z=h(6451),z=h(3900),R=h(5698),j=h(9300),se=h(1884),m=h(1777),ne=h(226);const ae=["trigger"],oe=["panel"];function re(n,a){if(1&n&&(e.TgZ(0,"span",8),e._uU(1),e.qZA()),2&n){const t=e.oxw();e.xp6(1),e.Oqu(t.placeholder)}}function le(n,a){if(1&n&&(e.TgZ(0,"span",12),e._uU(1),e.qZA()),2&n){const t=e.oxw(2);e.xp6(1),e.Oqu(t.triggerValue)}}function ce(n,a){1&n&&e.Hsn(0,0,["*ngSwitchCase","true"])}function he(n,a){if(1&n&&(e.TgZ(0,"span",9),e.YNc(1,le,2,1,"span",10),e.YNc(2,ce,1,0,"ng-content",11),e.qZA()),2&n){const t=e.oxw();e.Q6J("ngSwitch",!!t.customTrigger),e.xp6(2),e.Q6J("ngSwitchCase",!0)}}function pe(n,a){if(1&n){const t=e.EpF();e.TgZ(0,"div",13)(1,"div",14,15),e.NdJ("@transformPanel.done",function(s){e.CHM(t);const o=e.oxw();return e.KtG(o._panelDoneAnimatingStream.next(s.toState))})("keydown",function(s){e.CHM(t);const o=e.oxw();return e.KtG(o._handleKeydown(s))}),e.Hsn(3,1),e.qZA()()}if(2&n){const t=e.oxw();e.Q6J("@transformPanelWrap",void 0),e.xp6(1),e.Gre("mat-select-panel ",t._getPanelTheme(),""),e.Udp("transform-origin",t._transformOrigin)("font-size",t._triggerFontSize,"px"),e.Q6J("ngClass",t.panelClass)("@transformPanel",t.multiple?"showing-multiple":"showing"),e.uIk("id",t.id+"-panel")("aria-multiselectable",t.multiple)("aria-label",t.ariaLabel||null)("aria-labelledby",t._getPanelAriaLabelledby())}}const de=[[["mat-select-trigger"]],"*"],ue=["mat-select-trigger","*"],Q={transformPanelWrap:(0,m.X$)("transformPanelWrap",[(0,m.eR)("* => void",(0,m.IO)("@transformPanel",[(0,m.pV)()],{optional:!0}))]),transformPanel:(0,m.X$)("transformPanel",[(0,m.SB)("void",(0,m.oB)({transform:"scaleY(0.8)",minWidth:"100%",opacity:0})),(0,m.SB)("showing",(0,m.oB)({opacity:1,minWidth:"calc(100% + 32px)",transform:"scaleY(1)"})),(0,m.SB)("showing-multiple",(0,m.oB)({opacity:1,minWidth:"calc(100% + 64px)",transform:"scaleY(1)"})),(0,m.eR)("void => *",(0,m.jt)("120ms cubic-bezier(0, 0, 0.2, 1)")),(0,m.eR)("* => void",(0,m.jt)("100ms 25ms linear",(0,m.oB)({opacity:0})))])};let K=0;const T=256,X=new e.OlP("mat-select-scroll-strategy"),_e=new e.OlP("MAT_SELECT_CONFIG"),ve={provide:X,deps:[O.aV],useFactory:function fe(n){return()=>n.scrollStrategies.reposition()}};class ye{constructor(a,t){this.source=a,this.value=t}}const Ce=(0,u.Kr)((0,u.sb)((0,u.Id)((0,u.FD)(class{constructor(n,a,t,i,s){this._elementRef=n,this._defaultErrorStateMatcher=a,this._parentForm=t,this._parentFormGroup=i,this.ngControl=s,this.stateChanges=new M.x}})))),be=new e.OlP("MatSelectTrigger");let Se=(()=>{class n extends Ce{constructor(t,i,s,o,r,c,l,d,f,C,Ge,Ue,He,A){var V,L,P;super(r,o,l,d,C),this._viewportRuler=t,this._changeDetectorRef=i,this._ngZone=s,this._dir=c,this._parentFormField=f,this._liveAnnouncer=He,this._defaultOptions=A,this._panelOpen=!1,this._compareWith=(y,B)=>y===B,this._uid="mat-select-"+K++,this._triggerAriaLabelledBy=null,this._destroy=new M.x,this._onChange=()=>{},this._onTouched=()=>{},this._valueId="mat-select-value-"+K++,this._panelDoneAnimatingStream=new M.x,this._overlayPanelClass=(null===(V=this._defaultOptions)||void 0===V?void 0:V.overlayPanelClass)||"",this._focused=!1,this.controlType="mat-select",this._multiple=!1,this._disableOptionCentering=null!==(P=null===(L=this._defaultOptions)||void 0===L?void 0:L.disableOptionCentering)&&void 0!==P&&P,this.ariaLabel="",this.optionSelectionChanges=(0,ie.P)(()=>{const y=this.options;return y?y.changes.pipe((0,D.O)(y),(0,z.w)(()=>(0,Z.T)(...y.map(B=>B.onSelectionChange)))):this._ngZone.onStable.pipe((0,R.q)(1),(0,z.w)(()=>this.optionSelectionChanges))}),this.openedChange=new e.vpe,this._openedStream=this.openedChange.pipe((0,j.h)(y=>y),(0,k.U)(()=>{})),this._closedStream=this.openedChange.pipe((0,j.h)(y=>!y),(0,k.U)(()=>{})),this.selectionChange=new e.vpe,this.valueChange=new e.vpe,this.ngControl&&(this.ngControl.valueAccessor=this),null!=(null==A?void 0:A.typeaheadDebounceInterval)&&(this._typeaheadDebounceInterval=A.typeaheadDebounceInterval),this._scrollStrategyFactory=Ue,this._scrollStrategy=this._scrollStrategyFactory(),this.tabIndex=parseInt(Ge)||0,this.id=this.id}get focused(){return this._focused||this._panelOpen}get placeholder(){return this._placeholder}set placeholder(t){this._placeholder=t,this.stateChanges.next()}get required(){var t,i,s,o;return null!==(o=null!==(t=this._required)&&void 0!==t?t:null===(s=null===(i=this.ngControl)||void 0===i?void 0:i.control)||void 0===s?void 0:s.hasValidator(p.kI.required))&&void 0!==o&&o}set required(t){this._required=(0,w.Ig)(t),this.stateChanges.next()}get multiple(){return this._multiple}set multiple(t){this._multiple=(0,w.Ig)(t)}get disableOptionCentering(){return this._disableOptionCentering}set disableOptionCentering(t){this._disableOptionCentering=(0,w.Ig)(t)}get compareWith(){return this._compareWith}set compareWith(t){this._compareWith=t,this._selectionModel&&this._initializeSelection()}get value(){return this._value}set value(t){this._assignValue(t)&&this._onChange(t)}get typeaheadDebounceInterval(){return this._typeaheadDebounceInterval}set typeaheadDebounceInterval(t){this._typeaheadDebounceInterval=(0,w.su)(t)}get id(){return this._id}set id(t){this._id=t||this._uid,this.stateChanges.next()}ngOnInit(){this._selectionModel=new te(this.multiple),this.stateChanges.next(),this._panelDoneAnimatingStream.pipe((0,se.x)(),(0,v.R)(this._destroy)).subscribe(()=>this._panelDoneAnimating(this.panelOpen))}ngAfterContentInit(){this._initKeyManager(),this._selectionModel.changed.pipe((0,v.R)(this._destroy)).subscribe(t=>{t.added.forEach(i=>i.select()),t.removed.forEach(i=>i.deselect())}),this.options.changes.pipe((0,D.O)(null),(0,v.R)(this._destroy)).subscribe(()=>{this._resetOptions(),this._initializeSelection()})}ngDoCheck(){const t=this._getTriggerAriaLabelledby(),i=this.ngControl;if(t!==this._triggerAriaLabelledBy){const s=this._elementRef.nativeElement;this._triggerAriaLabelledBy=t,t?s.setAttribute("aria-labelledby",t):s.removeAttribute("aria-labelledby")}i&&(this._previousControl!==i.control&&(void 0!==this._previousControl&&null!==i.disabled&&i.disabled!==this.disabled&&(this.disabled=i.disabled),this._previousControl=i.control),this.updateErrorState())}ngOnChanges(t){(t.disabled||t.userAriaDescribedBy)&&this.stateChanges.next(),t.typeaheadDebounceInterval&&this._keyManager&&this._keyManager.withTypeAhead(this._typeaheadDebounceInterval)}ngOnDestroy(){this._destroy.next(),this._destroy.complete(),this.stateChanges.complete()}toggle(){this.panelOpen?this.close():this.open()}open(){this._canOpen()&&(this._panelOpen=!0,this._keyManager.withHorizontalOrientation(null),this._highlightCorrectOption(),this._changeDetectorRef.markForCheck())}close(){this._panelOpen&&(this._panelOpen=!1,this._keyManager.withHorizontalOrientation(this._isRtl()?"rtl":"ltr"),this._changeDetectorRef.markForCheck(),this._onTouched())}writeValue(t){this._assignValue(t)}registerOnChange(t){this._onChange=t}registerOnTouched(t){this._onTouched=t}setDisabledState(t){this.disabled=t,this._changeDetectorRef.markForCheck(),this.stateChanges.next()}get panelOpen(){return this._panelOpen}get selected(){var t,i;return this.multiple?(null===(t=this._selectionModel)||void 0===t?void 0:t.selected)||[]:null===(i=this._selectionModel)||void 0===i?void 0:i.selected[0]}get triggerValue(){if(this.empty)return"";if(this._multiple){const t=this._selectionModel.selected.map(i=>i.viewValue);return this._isRtl()&&t.reverse(),t.join(", ")}return this._selectionModel.selected[0].viewValue}_isRtl(){return!!this._dir&&"rtl"===this._dir.value}_handleKeydown(t){this.disabled||(this.panelOpen?this._handleOpenKeydown(t):this._handleClosedKeydown(t))}_handleClosedKeydown(t){const i=t.keyCode,s=i===g.JH||i===g.LH||i===g.oh||i===g.SV,o=i===g.K5||i===g.L_,r=this._keyManager;if(!r.isTyping()&&o&&!(0,g.Vb)(t)||(this.multiple||t.altKey)&&s)t.preventDefault(),this.open();else if(!this.multiple){const c=this.selected;r.onKeydown(t);const l=this.selected;l&&c!==l&&this._liveAnnouncer.announce(l.viewValue,1e4)}}_handleOpenKeydown(t){const i=this._keyManager,s=t.keyCode,o=s===g.JH||s===g.LH,r=i.isTyping();if(o&&t.altKey)t.preventDefault(),this.close();else if(r||s!==g.K5&&s!==g.L_||!i.activeItem||(0,g.Vb)(t))if(!r&&this._multiple&&s===g.A&&t.ctrlKey){t.preventDefault();const c=this.options.some(l=>!l.disabled&&!l.selected);this.options.forEach(l=>{l.disabled||(c?l.select():l.deselect())})}else{const c=i.activeItemIndex;i.onKeydown(t),this._multiple&&o&&t.shiftKey&&i.activeItem&&i.activeItemIndex!==c&&i.activeItem._selectViaInteraction()}else t.preventDefault(),i.activeItem._selectViaInteraction()}_onFocus(){this.disabled||(this._focused=!0,this.stateChanges.next())}_onBlur(){this._focused=!1,!this.disabled&&!this.panelOpen&&(this._onTouched(),this._changeDetectorRef.markForCheck(),this.stateChanges.next())}_onAttached(){this._overlayDir.positionChange.pipe((0,R.q)(1)).subscribe(()=>{this._changeDetectorRef.detectChanges(),this._positioningSettled()})}_getPanelTheme(){return this._parentFormField?`mat-${this._parentFormField.color}`:""}get empty(){return!this._selectionModel||this._selectionModel.isEmpty()}_initializeSelection(){Promise.resolve().then(()=>{this.ngControl&&(this._value=this.ngControl.value),this._setSelectionByValue(this._value),this.stateChanges.next()})}_setSelectionByValue(t){if(this._selectionModel.selected.forEach(i=>i.setInactiveStyles()),this._selectionModel.clear(),this.multiple&&t)Array.isArray(t),t.forEach(i=>this._selectOptionByValue(i)),this._sortValues();else{const i=this._selectOptionByValue(t);i?this._keyManager.updateActiveItem(i):this.panelOpen||this._keyManager.updateActiveItem(-1)}this._changeDetectorRef.markForCheck()}_selectOptionByValue(t){const i=this.options.find(s=>{if(this._selectionModel.isSelected(s))return!1;try{return null!=s.value&&this._compareWith(s.value,t)}catch(o){return!1}});return i&&this._selectionModel.select(i),i}_assignValue(t){return!!(t!==this._value||this._multiple&&Array.isArray(t))&&(this.options&&this._setSelectionByValue(t),this._value=t,!0)}_initKeyManager(){this._keyManager=new J.s1(this.options).withTypeAhead(this._typeaheadDebounceInterval).withVerticalOrientation().withHorizontalOrientation(this._isRtl()?"rtl":"ltr").withHomeAndEnd().withAllowedModifierKeys(["shiftKey"]),this._keyManager.tabOut.pipe((0,v.R)(this._destroy)).subscribe(()=>{this.panelOpen&&(!this.multiple&&this._keyManager.activeItem&&this._keyManager.activeItem._selectViaInteraction(),this.focus(),this.close())}),this._keyManager.change.pipe((0,v.R)(this._destroy)).subscribe(()=>{this._panelOpen&&this.panel?this._scrollOptionIntoView(this._keyManager.activeItemIndex||0):!this._panelOpen&&!this.multiple&&this._keyManager.activeItem&&this._keyManager.activeItem._selectViaInteraction()})}_resetOptions(){const t=(0,Z.T)(this.options.changes,this._destroy);this.optionSelectionChanges.pipe((0,v.R)(t)).subscribe(i=>{this._onSelect(i.source,i.isUserInput),i.isUserInput&&!this.multiple&&this._panelOpen&&(this.close(),this.focus())}),(0,Z.T)(...this.options.map(i=>i._stateChanges)).pipe((0,v.R)(t)).subscribe(()=>{this._changeDetectorRef.markForCheck(),this.stateChanges.next()})}_onSelect(t,i){const s=this._selectionModel.isSelected(t);null!=t.value||this._multiple?(s!==t.selected&&(t.selected?this._selectionModel.select(t):this._selectionModel.deselect(t)),i&&this._keyManager.setActiveItem(t),this.multiple&&(this._sortValues(),i&&this.focus())):(t.deselect(),this._selectionModel.clear(),null!=this.value&&this._propagateChanges(t.value)),s!==this._selectionModel.isSelected(t)&&this._propagateChanges(),this.stateChanges.next()}_sortValues(){if(this.multiple){const t=this.options.toArray();this._selectionModel.sort((i,s)=>this.sortComparator?this.sortComparator(i,s,t):t.indexOf(i)-t.indexOf(s)),this.stateChanges.next()}}_propagateChanges(t){let i=null;i=this.multiple?this.selected.map(s=>s.value):this.selected?this.selected.value:t,this._value=i,this.valueChange.emit(i),this._onChange(i),this.selectionChange.emit(this._getChangeEvent(i)),this._changeDetectorRef.markForCheck()}_highlightCorrectOption(){this._keyManager&&(this.empty?this._keyManager.setFirstItemActive():this._keyManager.setActiveItem(this._selectionModel.selected[0]))}_canOpen(){var t;return!this._panelOpen&&!this.disabled&&(null===(t=this.options)||void 0===t?void 0:t.length)>0}focus(t){this._elementRef.nativeElement.focus(t)}_getPanelAriaLabelledby(){var t;if(this.ariaLabel)return null;const i=null===(t=this._parentFormField)||void 0===t?void 0:t.getLabelId();return this.ariaLabelledby?(i?i+" ":"")+this.ariaLabelledby:i}_getAriaActiveDescendant(){return this.panelOpen&&this._keyManager&&this._keyManager.activeItem?this._keyManager.activeItem.id:null}_getTriggerAriaLabelledby(){var t;if(this.ariaLabel)return null;const i=null===(t=this._parentFormField)||void 0===t?void 0:t.getLabelId();let s=(i?i+" ":"")+this._valueId;return this.ariaLabelledby&&(s+=" "+this.ariaLabelledby),s}_panelDoneAnimating(t){this.openedChange.emit(t)}setDescribedByIds(t){t.length?this._elementRef.nativeElement.setAttribute("aria-describedby",t.join(" ")):this._elementRef.nativeElement.removeAttribute("aria-describedby")}onContainerClick(){this.focus(),this.open()}get shouldLabelFloat(){return this._panelOpen||!this.empty||this._focused&&!!this._placeholder}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(q.rL),e.Y36(e.sBO),e.Y36(e.R0b),e.Y36(u.rD),e.Y36(e.SBq),e.Y36(ne.Is,8),e.Y36(p.F,8),e.Y36(p.sg,8),e.Y36(b.G_,8),e.Y36(p.a5,10),e.$8M("tabindex"),e.Y36(X),e.Y36(J.Kd),e.Y36(_e,8))},n.\u0275dir=e.lG2({type:n,viewQuery:function(t,i){if(1&t&&(e.Gf(ae,5),e.Gf(oe,5),e.Gf(O.pI,5)),2&t){let s;e.iGM(s=e.CRH())&&(i.trigger=s.first),e.iGM(s=e.CRH())&&(i.panel=s.first),e.iGM(s=e.CRH())&&(i._overlayDir=s.first)}},inputs:{userAriaDescribedBy:["aria-describedby","userAriaDescribedBy"],panelClass:"panelClass",placeholder:"placeholder",required:"required",multiple:"multiple",disableOptionCentering:"disableOptionCentering",compareWith:"compareWith",value:"value",ariaLabel:["aria-label","ariaLabel"],ariaLabelledby:["aria-labelledby","ariaLabelledby"],errorStateMatcher:"errorStateMatcher",typeaheadDebounceInterval:"typeaheadDebounceInterval",sortComparator:"sortComparator",id:"id"},outputs:{openedChange:"openedChange",_openedStream:"opened",_closedStream:"closed",selectionChange:"selectionChange",valueChange:"valueChange"},features:[e.qOj,e.TTD]}),n})(),Me=(()=>{class n extends Se{constructor(){super(...arguments),this._scrollTop=0,this._triggerFontSize=0,this._transformOrigin="top",this._offsetY=0,this._positions=[{originX:"start",originY:"top",overlayX:"start",overlayY:"top"},{originX:"start",originY:"bottom",overlayX:"start",overlayY:"bottom"}]}_calculateOverlayScroll(t,i,s){const o=this._getItemHeight();return Math.min(Math.max(0,o*t-i+o/2),s)}ngOnInit(){super.ngOnInit(),this._viewportRuler.change().pipe((0,v.R)(this._destroy)).subscribe(()=>{this.panelOpen&&(this._triggerRect=this.trigger.nativeElement.getBoundingClientRect(),this._changeDetectorRef.markForCheck())})}open(){super._canOpen()&&(super.open(),this._triggerRect=this.trigger.nativeElement.getBoundingClientRect(),this._triggerFontSize=parseInt(getComputedStyle(this.trigger.nativeElement).fontSize||"0"),this._calculateOverlayPosition(),this._ngZone.onStable.pipe((0,R.q)(1)).subscribe(()=>{this._triggerFontSize&&this._overlayDir.overlayRef&&this._overlayDir.overlayRef.overlayElement&&(this._overlayDir.overlayRef.overlayElement.style.fontSize=`${this._triggerFontSize}px`)}))}_scrollOptionIntoView(t){const i=(0,u.CB)(t,this.options,this.optionGroups),s=this._getItemHeight();this.panel.nativeElement.scrollTop=0===t&&1===i?0:(0,u.jH)((t+i)*s,s,this.panel.nativeElement.scrollTop,T)}_positioningSettled(){this._calculateOverlayOffsetX(),this.panel.nativeElement.scrollTop=this._scrollTop}_panelDoneAnimating(t){this.panelOpen?this._scrollTop=0:(this._overlayDir.offsetX=0,this._changeDetectorRef.markForCheck()),super._panelDoneAnimating(t)}_getChangeEvent(t){return new ye(this,t)}_calculateOverlayOffsetX(){const t=this._overlayDir.overlayRef.overlayElement.getBoundingClientRect(),i=this._viewportRuler.getViewportSize(),s=this._isRtl(),o=this.multiple?56:32;let r;if(this.multiple)r=40;else if(this.disableOptionCentering)r=16;else{let d=this._selectionModel.selected[0]||this.options.first;r=d&&d.group?32:16}s||(r*=-1);const c=0-(t.left+r-(s?o:0)),l=t.right+r-i.width+(s?0:o);c>0?r+=c+8:l>0&&(r-=l+8),this._overlayDir.offsetX=Math.round(r),this._overlayDir.overlayRef.updatePosition()}_calculateOverlayOffsetY(t,i,s){const o=this._getItemHeight(),r=(o-this._triggerRect.height)/2,c=Math.floor(T/o);let l;return this.disableOptionCentering?0:(l=0===this._scrollTop?t*o:this._scrollTop===s?(t-(this._getItemCount()-c))*o+(o-(this._getItemCount()*o-T)%o):i-o/2,Math.round(-1*l-r))}_checkOverlayWithinViewport(t){const i=this._getItemHeight(),s=this._viewportRuler.getViewportSize(),o=this._triggerRect.top-8,r=s.height-this._triggerRect.bottom-8,c=Math.abs(this._offsetY),d=Math.min(this._getItemCount()*i,T)-c-this._triggerRect.height;d>r?this._adjustPanelUp(d,r):c>o?this._adjustPanelDown(c,o,t):this._transformOrigin=this._getOriginBasedOnOption()}_adjustPanelUp(t,i){const s=Math.round(t-i);this._scrollTop-=s,this._offsetY-=s,this._transformOrigin=this._getOriginBasedOnOption(),this._scrollTop<=0&&(this._scrollTop=0,this._offsetY=0,this._transformOrigin="50% bottom 0px")}_adjustPanelDown(t,i,s){const o=Math.round(t-i);if(this._scrollTop+=o,this._offsetY+=o,this._transformOrigin=this._getOriginBasedOnOption(),this._scrollTop>=s)return this._scrollTop=s,this._offsetY=0,void(this._transformOrigin="50% top 0px")}_calculateOverlayPosition(){const t=this._getItemHeight(),i=this._getItemCount(),s=Math.min(i*t,T),r=i*t-s;let c;c=this.empty?0:Math.max(this.options.toArray().indexOf(this._selectionModel.selected[0]),0),c+=(0,u.CB)(c,this.options,this.optionGroups);const l=s/2;this._scrollTop=this._calculateOverlayScroll(c,l,r),this._offsetY=this._calculateOverlayOffsetY(c,l,r),this._checkOverlayWithinViewport(r)}_getOriginBasedOnOption(){const t=this._getItemHeight(),i=(t-this._triggerRect.height)/2;return`50% ${Math.abs(this._offsetY)-i+t/2}px 0px`}_getItemHeight(){return 3*this._triggerFontSize}_getItemCount(){return this.options.length+this.optionGroups.length}}return n.\u0275fac=function(){let a;return function(i){return(a||(a=e.n5z(n)))(i||n)}}(),n.\u0275cmp=e.Xpm({type:n,selectors:[["mat-select"]],contentQueries:function(t,i,s){if(1&t&&(e.Suo(s,be,5),e.Suo(s,u.ey,5),e.Suo(s,u.K7,5)),2&t){let o;e.iGM(o=e.CRH())&&(i.customTrigger=o.first),e.iGM(o=e.CRH())&&(i.options=o),e.iGM(o=e.CRH())&&(i.optionGroups=o)}},hostAttrs:["role","combobox","aria-autocomplete","none","aria-haspopup","true",1,"mat-select"],hostVars:19,hostBindings:function(t,i){1&t&&e.NdJ("keydown",function(o){return i._handleKeydown(o)})("focus",function(){return i._onFocus()})("blur",function(){return i._onBlur()}),2&t&&(e.uIk("id",i.id)("tabindex",i.tabIndex)("aria-controls",i.panelOpen?i.id+"-panel":null)("aria-expanded",i.panelOpen)("aria-label",i.ariaLabel||null)("aria-required",i.required.toString())("aria-disabled",i.disabled.toString())("aria-invalid",i.errorState)("aria-activedescendant",i._getAriaActiveDescendant()),e.ekj("mat-select-disabled",i.disabled)("mat-select-invalid",i.errorState)("mat-select-required",i.required)("mat-select-empty",i.empty)("mat-select-multiple",i.multiple))},inputs:{disabled:"disabled",disableRipple:"disableRipple",tabIndex:"tabIndex"},exportAs:["matSelect"],features:[e._Bn([{provide:b.Eo,useExisting:n},{provide:u.HF,useExisting:n}]),e.qOj],ngContentSelectors:ue,decls:9,vars:12,consts:[["cdk-overlay-origin","",1,"mat-select-trigger",3,"click"],["origin","cdkOverlayOrigin","trigger",""],[1,"mat-select-value",3,"ngSwitch"],["class","mat-select-placeholder mat-select-min-line",4,"ngSwitchCase"],["class","mat-select-value-text",3,"ngSwitch",4,"ngSwitchCase"],[1,"mat-select-arrow-wrapper"],[1,"mat-select-arrow"],["cdk-connected-overlay","","cdkConnectedOverlayLockPosition","","cdkConnectedOverlayHasBackdrop","","cdkConnectedOverlayBackdropClass","cdk-overlay-transparent-backdrop",3,"cdkConnectedOverlayPanelClass","cdkConnectedOverlayScrollStrategy","cdkConnectedOverlayOrigin","cdkConnectedOverlayOpen","cdkConnectedOverlayPositions","cdkConnectedOverlayMinWidth","cdkConnectedOverlayOffsetY","backdropClick","attach","detach"],[1,"mat-select-placeholder","mat-select-min-line"],[1,"mat-select-value-text",3,"ngSwitch"],["class","mat-select-min-line",4,"ngSwitchDefault"],[4,"ngSwitchCase"],[1,"mat-select-min-line"],[1,"mat-select-panel-wrap"],["role","listbox","tabindex","-1",3,"ngClass","keydown"],["panel",""]],template:function(t,i){if(1&t&&(e.F$t(de),e.TgZ(0,"div",0,1),e.NdJ("click",function(){return i.toggle()}),e.TgZ(3,"div",2),e.YNc(4,re,2,1,"span",3),e.YNc(5,he,3,2,"span",4),e.qZA(),e.TgZ(6,"div",5),e._UZ(7,"div",6),e.qZA()(),e.YNc(8,pe,4,14,"ng-template",7),e.NdJ("backdropClick",function(){return i.close()})("attach",function(){return i._onAttached()})("detach",function(){return i.close()})),2&t){const s=e.MAs(1);e.uIk("aria-owns",i.panelOpen?i.id+"-panel":null),e.xp6(3),e.Q6J("ngSwitch",i.empty),e.uIk("id",i._valueId),e.xp6(1),e.Q6J("ngSwitchCase",!0),e.xp6(1),e.Q6J("ngSwitchCase",!1),e.xp6(3),e.Q6J("cdkConnectedOverlayPanelClass",i._overlayPanelClass)("cdkConnectedOverlayScrollStrategy",i._scrollStrategy)("cdkConnectedOverlayOrigin",s)("cdkConnectedOverlayOpen",i.panelOpen)("cdkConnectedOverlayPositions",i._positions)("cdkConnectedOverlayMinWidth",null==i._triggerRect?null:i._triggerRect.width)("cdkConnectedOverlayOffsetY",i._offsetY)}},dependencies:[_.mk,_.RF,_.n9,_.ED,O.pI,O.xu],styles:['.mat-select{display:inline-block;width:100%;outline:none}.mat-select-trigger{display:inline-flex;align-items:center;cursor:pointer;position:relative;box-sizing:border-box;width:100%}.mat-select-disabled .mat-select-trigger{-webkit-user-select:none;user-select:none;cursor:default}.mat-select-value{width:100%;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.mat-select-value-text{white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.mat-select-arrow-wrapper{height:16px;flex-shrink:0;display:inline-flex;align-items:center}.mat-form-field-appearance-fill .mat-select-arrow-wrapper{transform:translateY(-50%)}.mat-form-field-appearance-outline .mat-select-arrow-wrapper{transform:translateY(-25%)}.mat-form-field-appearance-standard.mat-form-field-has-label .mat-select:not(.mat-select-empty) .mat-select-arrow-wrapper{transform:translateY(-50%)}.mat-form-field-appearance-standard .mat-select.mat-select-empty .mat-select-arrow-wrapper{transition:transform 400ms cubic-bezier(0.25, 0.8, 0.25, 1)}._mat-animation-noopable.mat-form-field-appearance-standard .mat-select.mat-select-empty .mat-select-arrow-wrapper{transition:none}.mat-select-arrow{width:0;height:0;border-left:5px solid rgba(0,0,0,0);border-right:5px solid rgba(0,0,0,0);border-top:5px solid;margin:0 4px}.mat-form-field.mat-focused .mat-select-arrow{transform:translateX(0)}.mat-select-panel-wrap{flex-basis:100%}.mat-select-panel{min-width:112px;max-width:280px;overflow:auto;-webkit-overflow-scrolling:touch;padding-top:0;padding-bottom:0;max-height:256px;min-width:100%;border-radius:4px;outline:0}.cdk-high-contrast-active .mat-select-panel{outline:solid 1px}.mat-select-panel .mat-optgroup-label,.mat-select-panel .mat-option{font-size:inherit;line-height:3em;height:3em}.mat-form-field-type-mat-select:not(.mat-form-field-disabled) .mat-form-field-flex{cursor:pointer}.mat-form-field-type-mat-select .mat-form-field-label{width:calc(100% - 18px)}.mat-select-placeholder{transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}._mat-animation-noopable .mat-select-placeholder{transition:none}.mat-form-field-hide-placeholder .mat-select-placeholder{color:rgba(0,0,0,0);-webkit-text-fill-color:rgba(0,0,0,0);transition:none;display:block}.mat-select-min-line:empty::before{content:" ";white-space:pre;width:1px;display:inline-block;visibility:hidden}'],encapsulation:2,data:{animation:[Q.transformPanelWrap,Q.transformPanel]},changeDetection:0}),n})(),Oe=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({providers:[ve],imports:[_.ez,O.U8,u.Ng,u.BQ,q.ZD,b.lN,u.Ng,u.BQ]}),n})();var F=h(9815),Te=h(2744);function Ie(n,a){if(1&n&&(e.TgZ(0,"div",1)(1,"span",3),e._uU(2,"Inter\xe9s:"),e.qZA(),e.TgZ(3,"span",3),e._uU(4),e.qZA()()),2&n){const t=e.oxw();e.xp6(4),e.hij("",t.interest," %")}}let Ae=(()=>{class n{constructor(){this.viability=!1,this.monthly=0,this.interest="",this.total=0}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-mortgage-payments"]],inputs:{viability:"viability",monthly:"monthly",interest:"interest",total:"total"},decls:14,vars:10,consts:[[1,"p-6","space-y-4",3,"ngClass"],[1,"flex","justify-between"],[1,"text-2xl",3,"ngClass"],[1,"text-gray-500"],["class","flex justify-between",4,"ngIf"]],template:function(t,i){1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"h1",2),e._uU(3,"Tu cuota mensual"),e.qZA(),e.TgZ(4,"h1",2),e._uU(5),e.ALo(6,"number"),e.qZA()(),e.TgZ(7,"div",1)(8,"span",3),e._uU(9,"Importe hipoteca:"),e.qZA(),e.TgZ(10,"span",3),e._uU(11),e.ALo(12,"number"),e.qZA()(),e.YNc(13,Ie,5,1,"div",4),e.qZA()),2&t&&(e.Q6J("ngClass",i.viability?"bg-green-100":"bg-red-100"),e.xp6(2),e.Q6J("ngClass",i.viability?"text-green-500":"text-red-600"),e.xp6(2),e.Q6J("ngClass",i.viability?"text-green-500":"text-red-600"),e.xp6(1),e.hij("",e.lcZ(6,6,i.monthly)," \u20ac"),e.xp6(6),e.hij("",e.lcZ(12,8,i.total)," \u20ac"),e.xp6(2),e.Q6J("ngIf",i.interest&&i.viability))},dependencies:[_.mk,_.O5,_.JJ]}),n})();function we(n,a){if(1&n&&(e.TgZ(0,"mat-option",15),e._uU(1),e.qZA()),2&n){const t=a.$implicit;e.Q6J("value",t),e.xp6(1),e.hij(" ",t," ")}}function Ee(n,a){1&n&&(e.TgZ(0,"mat-error"),e._uU(1,"Este campo es requerido"),e.qZA())}function xe(n,a){1&n&&(e.TgZ(0,"mat-error"),e._uU(1,"Los a\xf1os m\xednimos para una hipoteca son 10"),e.qZA())}function De(n,a){1&n&&(e.TgZ(0,"mat-error"),e._uU(1,"Los a\xf1os m\xe1ximos para una hipoteca son 40"),e.qZA())}function ke(n,a){1&n&&(e.TgZ(0,"mat-error"),e._uU(1,"Este campo es requerido"),e.qZA())}function Ze(n,a){1&n&&(e.TgZ(0,"p",21),e._uU(1,"* Introduce la Tasa de Inter\xe9s Nominal (TIN) y el simulador aplicar\xe1 autom\xe1ticamente el valor del Euribor a tiempo real."),e.qZA())}function Re(n,a){1&n&&e._UZ(0,"app-user-register")}var I=(()=>{return(n=I||(I={})).Fijo="Fijo",n.Variable="Variable",I;var n})();const Fe=[{path:"",component:(()=>{class n{constructor(t){this.euriborService=t,this.provinces=ee,this.typeOfInterest=I,this.minFixInterest=Y.b.fixed,this.minVariableInterest=Y.b.variable,this.euribor=0,this.viability=!1,this.monthly=0,this.total=0,this.interest="",this.destroyed$=new M.x}ngOnInit(){return(0,H.mG)(this,void 0,void 0,function*(){yield this.initForm()})}initForm(){return(0,H.mG)(this,void 0,void 0,function*(){const t={provinces:new p.NI("",[p.kI.required]),price:new p.NI("",[p.kI.required]),savings:new p.NI("",[p.kI.required]),years:new p.NI("",[p.kI.required,p.kI.min(10),p.kI.max(40)]),typeOfInterest:new p.NI(I.Fijo,[p.kI.required]),interest:new p.NI(this.minFixInterest,[p.kI.required])};this.formGroup=new p.cw(t),this.euribor=yield this.euriborService.setEuribor(),this.filterProvincesListener(),this.changeInterestListener(),this.listenValidation()})}filterProvincesListener(){this.filteredProvinces=this.formGroup.controls.provinces.valueChanges.pipe((0,D.O)(""),(0,k.U)(t=>this._filterProvinces(t||"")))}_filterProvinces(t){const i=t.toLowerCase();return this.provinces.filter(s=>s.toLowerCase().includes(i))}changeInterestListener(){this.formGroup.controls.typeOfInterest.valueChanges.pipe((0,v.R)(this.destroyed$)).subscribe(t=>{this.formGroup.controls.interest.setValue(t===this.typeOfInterest.Fijo?this.minFixInterest:this.minVariableInterest,{emitEvent:!1})})}listenValidation(){this.formGroup.valueChanges.pipe((0,v.R)(this.destroyed$)).subscribe(t=>{this.viability=this.formGroup.valid&&t.savings<.8*t.price,this.viability?this.calcTotalMortgage(t.price,t.savings,t.years,t.interest):(this.monthly=0,this.total=0)})}checkInterest(){const t=this.formGroup.controls.interest.value;this.formGroup.controls.typeOfInterest.value===this.typeOfInterest.Fijo?t<this.minFixInterest&&this.formGroup.controls.interest.setValue(this.minFixInterest):t<this.minVariableInterest&&this.formGroup.controls.interest.setValue(this.minVariableInterest)}ngOnDestroy(){this.destroyed$.next(),this.destroyed$.complete()}calcTotalMortgage(t,i,s,o){const r=12*s;let c=o;this.formGroup.controls.typeOfInterest.value===this.typeOfInterest.Variable?(c+=this.euribor,this.interest=(c/100*100).toFixed(2)):this.interest="";const l=c/100/12;this.monthly=Math.round((t-i)*l/(1-Math.pow(1+l,-r))),this.total=Math.round(t-i)}}return n.\u0275fac=function(t){return new(t||n)(e.Y36($.R))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-mortgage-simulator"]],decls:59,vars:19,consts:[[1,"flex","w-full","desktop:flex-row","mobile:flex-col","pt-10","desktop:space-x-5","mobile:space-y-5","px-5"],[1,"flex","desktop:w-1/2","mobile:w-full","flex-column",3,"formGroup"],["appearance","fill"],[1,"mat-form-field-title","font-hint"],["type","text","matInput","","formControlName","provinces",3,"matAutocomplete"],["autoActiveFirstOption",""],["auto","matAutocomplete"],[3,"value",4,"ngFor","ngForOf"],["formControlName","price","matInput","","mask","separator","thousandSeparator",".","placeholder","Ej: 150.000\u20ac"],["matSuffix",""],["formControlName","savings","matInput","","mask","separator","thousandSeparator",".","placeholder","Ej: 40.000\u20ac"],["formControlName","years","matInput","","min","10","max","40","type","number"],[4,"ngIf"],[1,"mid-width","border-radius-right-none"],["formControlName","typeOfInterest"],[3,"value"],[1,"mid-width","border-radius-left-none"],["formControlName","interest","matInput","","type","number",3,"focusout"],["class","text-sm",4,"ngIf"],[1,"flex","desktop:w-1/2","mobile:w-full","flex-column"],[3,"monthly","total","viability","interest"],[1,"text-sm"]],template:function(t,i){if(1&t&&(e.TgZ(0,"div",0)(1,"form",1)(2,"mat-form-field",2)(3,"p",3),e._uU(4,"Provincia"),e.qZA(),e._UZ(5,"input",4),e.TgZ(6,"mat-autocomplete",5,6),e.YNc(8,we,2,2,"mat-option",7),e.ALo(9,"async"),e.qZA(),e.TgZ(10,"mat-error"),e._uU(11,"Este campo es requerido"),e.qZA()(),e.TgZ(12,"mat-form-field")(13,"p",3),e._uU(14,"Precio del inmueble"),e.qZA(),e._UZ(15,"input",8),e.TgZ(16,"span",9),e._uU(17,"\u20ac"),e.qZA(),e.TgZ(18,"mat-error"),e._uU(19,"Este campo es requerido"),e.qZA()(),e.TgZ(20,"mat-form-field")(21,"p",3),e._uU(22,"Ahorro aportado"),e.qZA(),e._UZ(23,"input",10),e.TgZ(24,"span",9),e._uU(25,"\u20ac"),e.qZA(),e.TgZ(26,"mat-error"),e._uU(27,"Este campo es requerido"),e.qZA()(),e.TgZ(28,"mat-form-field")(29,"p",3),e._uU(30,"A\xf1os de hipoteca"),e.qZA(),e._UZ(31,"input",11),e.TgZ(32,"span",9),e._uU(33,"a\xf1os"),e.qZA(),e.YNc(34,Ee,2,0,"mat-error",12),e.YNc(35,xe,2,0,"mat-error",12),e.YNc(36,De,2,0,"mat-error",12),e.qZA(),e.TgZ(37,"div")(38,"mat-form-field",13)(39,"p",3),e._uU(40,"Tipo de inter\xe9s"),e.qZA(),e.TgZ(41,"mat-select",14)(42,"mat-option",15),e._uU(43),e.qZA(),e.TgZ(44,"mat-option",15),e._uU(45),e.qZA()(),e.TgZ(46,"mat-error"),e._uU(47,"Este campo es requerido"),e.qZA()(),e.TgZ(48,"mat-form-field",16)(49,"p",3),e._uU(50,"Tasa de inter\xe9s anual"),e.qZA(),e.TgZ(51,"input",17),e.NdJ("focusout",function(){return i.checkInterest()}),e.qZA(),e.TgZ(52,"span",9),e._uU(53,"%"),e.qZA(),e.YNc(54,ke,2,0,"mat-error",12),e.qZA(),e.YNc(55,Ze,2,0,"p",18),e.qZA()(),e.TgZ(56,"div",19),e._UZ(57,"app-mortgage-payments",20),e.YNc(58,Re,1,0,"app-user-register",12),e.qZA()()),2&t){const s=e.MAs(7);e.xp6(1),e.Q6J("formGroup",i.formGroup),e.xp6(4),e.Q6J("matAutocomplete",s),e.xp6(3),e.Q6J("ngForOf",e.lcZ(9,17,i.filteredProvinces)),e.xp6(26),e.Q6J("ngIf",i.formGroup.controls.years.hasError("required")),e.xp6(1),e.Q6J("ngIf",i.formGroup.controls.years.hasError("min")),e.xp6(1),e.Q6J("ngIf",i.formGroup.controls.years.hasError("max")),e.xp6(6),e.Q6J("value",i.typeOfInterest.Fijo),e.xp6(1),e.Oqu(i.typeOfInterest.Fijo),e.xp6(1),e.Q6J("value",i.typeOfInterest.Variable),e.xp6(1),e.Oqu(i.typeOfInterest.Variable),e.xp6(9),e.Q6J("ngIf",i.formGroup.controls.years.hasError("required")),e.xp6(1),e.Q6J("ngIf",i.formGroup.controls.typeOfInterest.value===i.typeOfInterest.Variable),e.xp6(2),e.Q6J("monthly",i.monthly)("total",i.total)("viability",i.viability)("interest",i.interest),e.xp6(1),e.Q6J("ngIf",i.viability)}},dependencies:[_.sg,_.O5,x.hx,b.TO,b.KE,b.R9,N.Nt,p._Y,p.Fj,p.wV,p.JJ,p.JL,p.qQ,p.Fd,p.sg,p.u,Me,u.ey,F.XC,F.ZL,Te.a,Ae,_.Ov]}),n})()}];let Ve=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({imports:[U.Bz.forChild(Fe),U.Bz]}),n})();var Le=h(520),Pe=h(6690);let Be=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({imports:[_.ez,x.yI,Ve,b.lN,N.c,Le.JF,p.UX,x.yI.forChild(),Oe,F.Bb,Pe.J]}),n})()}}]);